#!/bin/bash

#shellcheck disable=SC1091
#shellcheck disable=SC2155
#shellcheck disable=SC2001

source "$__CUSTOM_CONSOLE_UTIL"/__common

function __scope_header() {

    local addNewScope="${1}"
    local msg="", edge="", GCOMMIT_SCOPE_HEADER=""

    local colorMsg="${UNDERLINE}${MAGENTA}gcommit${RESET} follows ${BLUE}https://www.conventionalcommits.org/${RESET} \n"
    if [[ "${addNewScope}" == "true" ]]; then
        colorMsg="${colorMsg}${BLUE}<enter>: ${RESET}Add the scope to the commit message, "
        colorMsg="${colorMsg}${BLUE}<esc>: ${RESET}skip\n\n"
        colorMsg="${colorMsg}Enter the new commit scope (e.g. component or file name)"

        msg="<enter>: Add the new commit scope to the list, <esc>: skip"
        edge="$(echo "${msg}" | sed "s/./-/g")"
        GCOMMIT_SCOPE_HEADER="${edge}\n${colorMsg}"
    else
        colorMsg="${colorMsg}${BLUE}<enter>: ${RESET}Select the commit scope, "
        colorMsg="${colorMsg}${BLUE}<esc>: ${RESET}skip\n\n"
        colorMsg="${colorMsg}What is the scope of this change? (e.g. component or file name)"

        msg="What is the scope of this change? (e.g. component or file name)"
        edge="$(echo "${msg}" | sed "s/./-/g")"
        GCOMMIT_SCOPE_HEADER="${edge}\n${colorMsg}\n${edge}\n "
    fi

    echo -e "${GCOMMIT_SCOPE_HEADER}"
}